var BigPicture=function(){var t,e,n,o,i,r,a,c,p,s,l,d,u,f,m,b,g,h,x,y,v,w,_,T,k,S,L,M,z,E,A,H,D,C,I,O,N,V,W=[],q={},B="appendChild",P="createElement",G="removeChild";function R(){S||h&&j(!0),o===c&&Y()}function F(){var e=t.getBoundingClientRect(),i=e.top,r=e.left,a=e.width,c=e.height;return"transform:translate3D("+(r-(n.clientWidth-a)/2)+"px, "+(i-(n.clientHeight-c)/2)+"px, 0) scale3D("+t.clientWidth/o.clientWidth+", "+t.clientHeight/o.clientHeight+", 0)"}function X(t){var e=I.length-1;if(!h){if(t>0&&C===e||t<0&&!C){if(!V.loop)return et(i,""),void setTimeout(et,9,i,"animation:"+(t>0?"bpl":"bpf")+" .3s;transition:transform .35s");C=t>0?-1:e+1}if([(C=Math.max(0,Math.min(C+t,e)))-1,C,C+1].forEach(function(t){if(t=Math.max(0,Math.min(t,e)),!q[t]){var n=I[t].src,o=document[P]("IMG");o.addEventListener("load",K.bind(null,n)),o.src=n,q[t]=o}}),q[C].complete)return U(t);h=!0,et(y,"opacity:.4;"),n[B](y),q[C].onload=function(){S&&U(t)},q[C].onerror=function(){I[C]={error:"Error loading image"},S&&U(t)}}}function U(e){h&&(n[G](y),h=!1);var r=I[C];if(r.error)alert(r.error);else{var a=n.querySelector("img:last-of-type");et(i=o=q[C],"animation:"+(e>0?"bpfl":"bpfr")+" .35s;transition:transform .35s"),et(a,"animation:"+(e>0?"bpfol":"bpfor")+" .35s both"),n[B](i),r.el&&(t=r.el)}O.innerHTML=C+1+"/"+I.length,J(I[C].caption),A&&A([i,I[C]])}function Y(){var t,e,n=.95*window.innerHeight,o=.95*window.innerWidth,i=n/o,r=V.dimensions||[1920,1080],a=r[0],p=r[1],d=p/a;if(d>i?e=(t=Math.min(p,n))/d:t=(e=Math.min(a,o))*d,c.style.width=e.toString()+"px",f){var u=0;l?(u=parseFloat(l.call(f)),isNaN(u)&&(u=0)):"content"===s&&(u=f.document.body.scrollHeight),u>50&&(t=u)}c.style.height=t.toString()+"px"}function $(t){~[1,4].indexOf(o.readyState)?(Q(),setTimeout(function(){o.play()},99)):o.error?Q(t):x=setTimeout($,35,t)}function j(e){V.noLoader||(e&&et(y,"top:"+t.offsetTop+"px;left:"+t.offsetLeft+"px;height:"+t.clientHeight+"px;width:"+t.clientWidth+"px"),t.parentElement[e?B:G](y),h=e)}function J(t){t&&(w.innerHTML=t),et(v,"opacity:"+(t?"1;pointer-events:auto":"0"))}function K(t){!~W.indexOf(t)&&W.push(t)}function Q(t){if(h&&j(),z&&z(),"string"==typeof t)return tt(),V.onError?V.onError():alert("Error: The requested "+t+" could not be loaded.");M&&K(m),o.style.cssText+=F(),et(n,"opacity:1;pointer-events:auto"),E&&(E=setTimeout(E,410)),k=!0,S=!!I,setTimeout(function(){o.style.cssText+="transition:transform .35s;transform:none",_&&setTimeout(J,250,_)},60)}function Z(t){var e=t?t.target:n,i=[v,T,r,a,w,D,H,y];e.blur(),L||~i.indexOf(e)||(o.style.cssText+=F(),et(n,"pointer-events:auto"),setTimeout(tt,350),clearTimeout(E),k=!1,L=!0)}function tt(){if((o===c?p:o).removeAttribute("src"),document.body[G](n),n[G](o),et(n,""),et(o,""),J(!1),S){for(var t=n.querySelectorAll("img"),e=0;e<t.length;e++)n[G](t[e]);h&&n[G](y),n[G](O),S=I=!1,q={},N||n[G](H),N||n[G](D),i.onload=Q,i.onerror=Q.bind(null,"image")}V.onClose&&V.onClose(),L=h=!1}function et(t,e){t.style.cssText=e}return function(L){var q;return e||function(){var t,o;function s(t){var e=document[P]("button");return e.className=t,e.innerHTML='<svg viewBox="0 0 48 48"><path d="M28 24L47 5a3 3 0 1 0-4-4L24 20 5 1a3 3 0 1 0-4 4l19 19L1 43a3 3 0 1 0 4 4l19-19 19 19a3 3 0 0 0 4 0v-4L28 24z"/></svg>',e}function l(t,e){var n=document[P]("button");return n.className="bp-lr",n.innerHTML='<svg viewBox="0 0 129 129" height="70" fill="#fff"><path d="M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z"/></svg>',et(n,e),n.onclick=function(e){e.stopPropagation(),X(t)},n}var m=document[P]("STYLE");m.innerHTML="#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,#bp_loader{position:absolute;right:0;z-index:10}#bp_container,#bp_caption,#bp_container svg{pointer-events:none}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:flex;align-items:center;cursor:wait;background:0;z-index:9}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto;animation:bpturn 1s infinite linear}#bp_aud,#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{background:#111}#bp_sv svg{width:66px}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_aud{width:650px;top:calc(50% - 20px);bottom:auto;box-shadow:none}#bp_count{left:0;right:auto;padding:14px;color:rgba(255,255,255,.7);font-size:22px;cursor:default}#bp_container button{position:absolute;border:0;outline:0;background:0;cursor:pointer;transition:all .1s}#bp_container>.bp-x{padding:0;height:41px;width:41px;border-radius:100%;top:8px;right:14px;opacity:.8;line-height:1}#bp_container>.bp-x:focus,#bp_container>.bp-x:hover{background:rgba(255,255,255,.2)}.bp-x svg,.bp-xc svg{height:21px;width:20px;fill:#fff;vertical-align:top;}.bp-xc svg{width:16px}#bp_container .bp-xc{left:2%;bottom:100%;padding:9px 20px 7px;background:#d04444;border-radius:2px 2px 0 0;opacity:.85}#bp_container .bp-xc:focus,#bp_container .bp-xc:hover{opacity:1}.bp-lr{top:50%;top:calc(50% - 130px);padding:99px 0;width:6%;background:0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@keyframes bpf{50%{transform:translatex(15px)}100%{transform:none}}@keyframes bpl{50%{transform:translatex(-15px)}100%{transform:none}}@keyframes bpfl{0%{opacity:0;transform:translatex(70px)}100%{opacity:1;transform:none}}@keyframes bpfr{0%{opacity:0;transform:translatex(-70px)}100%{opacity:1;transform:none}}@keyframes bpfol{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(-70px)}}@keyframes bpfor{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(70px)}}@keyframes bpturn{0%{transform:none}100%{transform:rotate(360deg)}}@media (max-width:600px){.bp-lr{font-size:15vw}}",document.head[B](m),(n=document[P]("DIV")).id="bp_container",n.onclick=Z,b=s("bp-x"),n[B](b),"ontouchend"in window&&window.visualViewport&&(N=!0,n.ontouchstart=function(e){var n=e.touches,i=e.changedTouches;o=n.length>1,t=i[0].pageX},n.ontouchend=function(e){var n=e.changedTouches;if(S&&!o&&window.visualViewport.scale<=1){var i=n[0].pageX-t;i<-30&&X(1),i>30&&X(-1)}}),i=document[P]("IMG"),(r=document[P]("VIDEO")).id="bp_vid",r.setAttribute("playsinline",!0),r.controls=!0,r.loop=!0,(a=document[P]("audio")).id="bp_aud",a.controls=!0,a.loop=!0,(O=document[P]("span")).id="bp_count",(v=document[P]("DIV")).id="bp_caption",(T=s("bp-xc")).onclick=J.bind(null,!1),v[B](T),w=document[P]("SPAN"),v[B](w),n[B](v),H=l(1,"transform:scalex(-1)"),D=l(-1,"left:0;right:auto"),(y=document[P]("DIV")).id="bp_loader",y.innerHTML='<svg viewbox="0 0 32 32" fill="#fff" opacity=".8"><path d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" fill="#000" opacity=".5"/><path d="M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z"/></svg>',(c=document[P]("DIV")).id="bp_sv",(p=document[P]("IFRAME")).setAttribute("allowfullscreen",!0),p.allow="autoplay; fullscreen",p.onload=function(){f=this.contentWindow,d&&d.call(f),setTimeout(Y,u),c[G](y)},et(p,"border:0;position:absolute;height:100%;width:100%;left:0;top:0"),c[B](p),i.onload=Q,i.onerror=Q.bind(null,"image");var g=null;window.addEventListener("resize",function(){g&&clearTimeout(g),u?g=setTimeout(R,u):R()}),document.addEventListener("keyup",function(t){var e=t.keyCode;27===e&&k&&Z(),S&&(39===e&&X(1),37===e&&X(-1),38===e&&X(10),40===e&&X(-10))}),document.addEventListener("keydown",function(t){S&&~[37,38,39,40].indexOf(t.keyCode)&&t.preventDefault()}),document.addEventListener("focus",function(t){k&&!n.contains(t.target)&&(t.stopPropagation(),b.focus())},!0),e=!0}(),h&&(clearTimeout(x),tt()),V=L,g=L.ytSrc||L.vimeoSrc,z=L.animationStart,E=L.animationEnd,A=L.onChangeImage,t=L.el,M=!1,_=t.getAttribute("data-caption"),d=V.iframeLoad&&"function"==typeof V.iframeLoad?V.iframeLoad:null,s=V.iframeSize?V.iframeSize:"auto",l="function"==typeof s?s:null,u=V.resizeDelay&&"number"==typeof V.resizeDelay&&V.resizeDelay>0?V.resizeDelay:0,L.gallery?function(e,r){var a=V.galleryAttribute||"data-bp";if(Array.isArray(e))I=e,_=e[C=r||0].caption;else{var c=(I=[].slice.call("string"==typeof e?document.querySelectorAll(e+" ["+a+"]"):e)).indexOf(t);C=0===r||r?r:-1!==c?c:0,I=I.map(function(t){return{el:t,src:t.getAttribute(a),caption:t.getAttribute("data-caption")}})}M=!0,m=I[C].src,!~W.indexOf(m)&&j(!0),I.length>1?(n[B](O),O.innerHTML=C+1+"/"+I.length,N||(n[B](H),n[B](D))):I=!1,(o=i).src=m}(L.gallery,L.position):g||L.iframeSrc?(o=c,V.ytSrc?F="https://www.youtube"+(V.ytNoCookie?"-nocookie":"")+".com/embed/"+g+"?html5=1&rel=0&playsinline=1&autoplay=1":V.vimeoSrc?F="https://player.vimeo.com/video/"+g+"?autoplay=1":V.iframeSrc&&(F=V.iframeSrc),et(y,""),c[B](y),p.src=F,Y(),setTimeout(Q,9)):L.imgSrc?(M=!0,m=L.imgSrc,!~W.indexOf(m)&&j(!0),(o=i).src=m):L.audio?(j(!0),(o=a).src=L.audio,$("audio file")):L.vidSrc?(j(!0),L.dimensions&&et(r,"width:"+L.dimensions[0]+"px"),q=L.vidSrc,Array.isArray(q)?(o=r.cloneNode(),q.forEach(function(t){var e=document[P]("SOURCE");e.src=t,e.type="video/"+t.match(/.(\w+)$/)[1],o[B](e)})):(o=r).src=q,$("video")):(o=i).src="IMG"===t.tagName?t.src:window.getComputedStyle(t).backgroundImage.replace(/^url|[(|)|'|"]/g,""),n[B](o),document.body[B](n),{close:Z,next:function(){return X(1)},prev:function(){return X(-1)},resize:function(){R()}};var F}}();